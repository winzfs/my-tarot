<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arcanum Tarot - AI ì‹ íƒ</title>
    <style>
        :root { --gold: #d4af37; --deep-blue: #0f0c29; }
        body { 
            text-align: center; background: radial-gradient(circle at center, #1b1429 0%, #05050a 100%);
            color: white; font-family: 'Apple SD Gothic Neo', sans-serif; margin: 0; padding: 20px; 
            min-height: 100vh; display: flex; flex-direction: column; align-items: center;
        }
        h1 { font-size: 2.2rem; margin-top: 30px; color: var(--gold); text-shadow: 0 0 15px rgba(212, 175, 55, 0.4); letter-spacing: 4px; }
        
        /* ì§ˆë¬¸ ì…ë ¥ì°½ ìŠ¤íƒ€ì¼ */
        #input-area { margin-top: 20px; width: 100%; max-width: 400px; }
        #user-question { 
            width: 100%; padding: 12px; border-radius: 8px; border: 1px solid var(--gold); 
            background: rgba(0,0,0,0.5); color: white; text-align: center; font-size: 1rem;
        }

        /* ëª¨ë“œ ì„ íƒ í™”ë©´ */
        #mode-selection { margin-top: 40px; display: block; }
        .mode-card {
            background: rgba(255, 255, 255, 0.05); border: 1px solid var(--gold);
            padding: 25px; margin: 15px; border-radius: 15px; cursor: pointer;
            transition: 0.3s; width: 280px; display: inline-block; vertical-align: top;
        }
        .mode-card:hover { background: rgba(212, 175, 55, 0.1); transform: translateY(-5px); }
        .mode-card h2 { color: var(--gold); margin-top: 0; }

        /* íƒ€ë¡œ ìŠ¤í…Œì´ì§€ */
        #tarot-stage { display: none; width: 100%; max-width: 900px; margin-top: 20px; }
        .cards-container { display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; margin-bottom: 30px; }
        
        .card-wrapper { width: 160px; text-align: center; }
        .label { color: var(--gold); font-weight: bold; margin-bottom: 10px; font-size: 0.9rem; }

        .card-display { width: 100%; height: 260px; perspective: 1000px; }
        .card-inner { width: 100%; height: 100%; position: relative; transition: transform 0.8s; transform-style: preserve-3d; cursor: pointer; }
        .card-inner.is-flipped { transform: rotateY(180deg); }
        .card-face { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; border-radius: 10px; border: 2px solid var(--gold); overflow: hidden; }
        .card-front { background: #1a1a2e; display: flex; align-items: center; justify-content: center; font-size: 40px; color: var(--gold); }
        .card-back { background: white; transform: rotateY(180deg); }
        .card-back img { width: 100%; height: 100%; object-fit: cover; }

        .result-text { margin-top: 20px; padding: 25px; background: rgba(0,0,0,0.5); border: 1px solid rgba(212,175,55,0.3); border-radius: 15px; min-height: 120px; max-width: 600px; }
        .name { color: var(--gold); font-size: 1.4rem; margin-bottom: 15px; font-weight: bold; }
        .desc { font-size: 1.05rem; color: #eee; line-height: 1.7; word-break: keep-all; }

        button.nav-btn { margin-top: 30px; padding: 10px 25px; background: none; border: 1px solid var(--gold); color: var(--gold); cursor: pointer; border-radius: 5px; }
    </style>
</head>
<body>

    <audio id="bgm" loop><source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-17.mp3"></audio>
    <audio id="sfx-flip"><source src="https://assets.mixkit.co/active_storage/sfx/2019/2019-preview.mp3"></audio>

    <h1>ARCANUM TAROT</h1>

    <div id="input-area">
        <input type="text" id="user-question" placeholder="ë¬´ì—‡ì´ ê¶ê¸ˆí•˜ì‹ ê°€ìš”? (ì˜ˆ: ì—°ì• ìš´, ê¸ˆì „ìš´)">
    </div>

    <div id="mode-selection">
        <div class="mode-card" onclick="startTarot(1)">
            <h2>ì› ì¹´ë“œ</h2>
            <p>ì˜¤ëŠ˜ì˜ ìš´ì„¸ë‚˜ ë‹¨ìˆœí•œ ì¡°ì–¸</p>
        </div>
        <div class="mode-card" onclick="startTarot(3)">
            <h2>ì“°ë¦¬ ì¹´ë“œ</h2>
            <p>ê³¼ê±°-í˜„ì¬-ë¯¸ë˜ì˜ íë¦„ ë¶„ì„</p>
        </div>
    </div>

    <div id="tarot-stage">
        <div class="cards-container" id="cards-container"></div>
        <div class="result-text" id="result-text">
            <div id="res-name" class="name">ì¹´ë“œë¥¼ ë’¤ì§‘ì–´ì£¼ì„¸ìš”</div>
            <div id="res-desc" class="desc">ê° ì¹´ë“œë¥¼ í´ë¦­í•˜ë©´ AIì˜ ì‹ íƒì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.</div>
        </div>
        <button class="nav-btn" onclick="location.reload()">ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
    </div>
    <script>
        const imgBase = "https://upload.wikimedia.org/wikipedia/commons/";
const tarotData = [
    // [ë©”ì´ì € ì•„ë¥´ì¹´ë‚˜ 0-21] - 22ì¥
    { name: "0. ê´‘ëŒ€", desc: "ìˆœìˆ˜í•œ ì‹œì‘, ëª¨í—˜, ììœ .", img: "9/90/RWS_Tarot_00_Fool.jpg" },
    { name: "1. ë§ˆë²•ì‚¬", desc: "ì°½ì˜ë ¥, ëŠ¥ë ¥, ì‹¤í–‰ë ¥.", img: "d/de/RWS_Tarot_01_Magician.jpg" },
    { name: "2. ê³ ìœ„ ì—¬ì‚¬ì œ", desc: "ì§ê´€, ì‹ ë¹„, ë¬´ì˜ì‹.", img: "8/88/RWS_Tarot_02_High_Priestess.jpg" },
    { name: "3. ì—¬í™©ì œ", desc: "í’ìš”, ëª¨ì„±ì• , ìì—°.", img: "a/af/RWS_Tarot_03_Empress.jpg" },
    { name: "4. í™©ì œ", desc: "ê¶Œìœ„, êµ¬ì¡°, ë¦¬ë”ì‹­.", img: "c/c3/RWS_Tarot_04_Emperor.jpg" },
    { name: "5. êµí™©", desc: "ì „í†µ, êµìœ¡, ì˜ì  ì¸ë„.", img: "8/8d/RWS_Tarot_05_Hierophant.jpg" },
    { name: "6. ì—°ì¸", desc: "ì‚¬ë‘, ì¡°í™”, ì„ íƒ.", img: "3/3a/RWS_Tarot_06_Lovers.jpg" },
    { name: "7. ì „ì°¨", desc: "ìŠ¹ë¦¬, í†µì œ, ì „ì§„.", img: "9/9b/RWS_Tarot_07_Chariot.jpg" },
    { name: "8. í˜", desc: "ì¸ë‚´, ìš©ê¸°, ë¶€ë“œëŸ¬ìš´ í˜.", img: "f/f5/RWS_Tarot_08_Strength.jpg" },
    { name: "9. ì€ë‘”ì", desc: "ë‚´ë©´ íƒêµ¬, ê³ ì°°, ì¡°ì–¸.", img: "4/4d/RWS_Tarot_09_Hermit.jpg" },
    { name: "10. ìš´ëª…ì˜ ìˆ˜ë ˆë°”í€´", desc: "ìš´ëª…ì  ë³€í™”, ì‚¬ì´í´, í–‰ìš´.", img: "3/3c/RWS_Tarot_10_Wheel_of_Fortune.jpg" },
    { name: "11. ì •ì˜", desc: "ê³µì •, ì§„ì‹¤, ì¸ê³¼ì‘ë³´.", img: "e/e0/RWS_Tarot_11_Justice.jpg" },
    { name: "12. ë§¤ë‹¬ë¦° ì‚¬ëŒ", desc: "ìƒˆë¡œìš´ ê´€ì , í¬ìƒ, ì •ì§€.", img: "2/2b/RWS_Tarot_12_Hanged_Man.jpg" },
    { name: "13. ì£½ìŒ", desc: "ì¢…ê²°, ë³€í˜•, ìƒˆë¡œìš´ ì‹œì‘.", img: "d/d7/RWS_Tarot_13_Death.jpg" },
    { name: "14. ì ˆì œ", desc: "ê· í˜•, ì¸ë‚´, í‰í™”.", img: "f/f8/RWS_Tarot_14_Temperance.jpg" },
    { name: "15. ì•…ë§ˆ", desc: "ì¤‘ë…, ì†ë°•, ë¬¼ì§ˆì  ìš•ë§.", img: "5/55/RWS_Tarot_15_Devil.jpg" },
    { name: "16. íƒ‘", desc: "ê°‘ì‘ìŠ¤ëŸ¬ìš´ ë³€í™”, ë¶•ê´´, ê¹¨ë‹¬ìŒ.", img: "5/53/RWS_Tarot_16_Tower.jpg" },
    { name: "17. ë³„", desc: "í¬ë§, ì˜ê°, ì¹˜ìœ .", img: "d/db/RWS_Tarot_17_Star.jpg" },
    { name: "18. ë‹¬", desc: "ë¶ˆì•ˆ, í™˜ìƒ, ì§ê´€ì  ê²½ê³ .", img: "7/7f/RWS_Tarot_18_Moon.jpg" },
    { name: "19. íƒœì–‘", desc: "ì„±ê³µ, í™œë ¥, ìì‹ ê°.", img: "1/17/RWS_Tarot_19_Sun.jpg" },
    { name: "20. ì‹¬íŒ", desc: "ë¶€í™œ, ìš©ì„œ, ê²°ë‹¨.", img: "d/dd/RWS_Tarot_20_Judgement.jpg" },
    { name: "21. ì„¸ê³„", desc: "ì™„ì„±, í†µí•©, ì„±ê³µì  ë§ˆë¬´ë¦¬.", img: "f/ff/RWS_Tarot_21_World.jpg" },

    // [Wands ìˆ˜íŠ¸] - 14ì¥
    { name: "ì™„ë“œ ì—ì´ìŠ¤", desc: "ìƒˆë¡œìš´ ì—´ì •ê³¼ ì—ë„ˆì§€ì˜ ì‹œì‘.", img: "1/11/Wands01.jpg" },
    { name: "ì™„ë“œ 2", desc: "ë¯¸ë˜ë¥¼ í–¥í•œ ê³„íšê³¼ ì„±ì¥ì˜ ê°ˆë¦¼ê¸¸.", img: "0/0f/Wands02.jpg" },
    { name: "ì™„ë“œ 3", desc: "ê¸°ë‹¤ë¦¼ ëì— ì–»ì€ í™•ì‹ ê³¼ ë¬´ì—­.", img: "f/ff/Wands03.jpg" },
    { name: "ì™„ë“œ 4", desc: "íœ´ì‹, ì•ˆì‹, ì„±ê³µì ì¸ ê¸°ë…ì¼.", img: "a/a4/Wands04.jpg" },
    { name: "ì™„ë“œ 5", desc: "ë¶„ì—´ê³¼ ë‹¤íˆ¼, ì„ ì˜ì˜ ê²½ìŸ.", img: "9/9d/Wands05.jpg" },
    { name: "ì™„ë“œ 6", desc: "ìŠ¹ë¦¬ì™€ ëª…ì˜ˆ, ì¢‹ì€ ì†Œì‹.", img: "3/3b/Wands06.jpg" },
    { name: "ì™„ë“œ 7", desc: "ì–´ë ¤ì›€ì— ë§ì„œëŠ” ìš©ê¸°ì™€ ë°©ì–´.", img: "e/e4/Wands07.jpg" },
    { name: "ì™„ë“œ 8", desc: "ì‹ ì†í•œ ì§„í–‰ê³¼ ëª…í™•í•œ ê²°ë¡ .", img: "6/6b/Wands08.jpg" },
    { name: "ì™„ë“œ 9", desc: "í¬ê¸°í•˜ì§€ ì•ŠëŠ” ì¸ë‚´ì™€ ë§ˆì§€ë§‰ ê²½ê³„.", img: "4/4d/Wands09.jpg" },
    { name: "ì™„ë“œ 10", desc: "ì±…ì„ê°ê³¼ ì••ë°•, ëì´ ë³´ì´ëŠ” ê³ ìƒ.", img: "0/0b/Wands10.jpg" },
    { name: "ì™„ë“œ ì‹œì¢…", desc: "ìƒˆë¡œìš´ ì†Œì‹ê³¼ ì•„ì´ë””ì–´.", img: "6/6a/Wands11.jpg" },
    { name: "ì™„ë“œ ê¸°ì‚¬", desc: "ë„ì „ì ì¸ í–‰ë™ê³¼ ì¶”ì§„ë ¥.", img: "1/13/Wands12.jpg" },
    { name: "ì™„ë“œ í€¸", desc: "ìì‹ ê° ë„˜ì¹˜ê³  ë”°ëœ»í•œ ë¦¬ë”.", img: "0/0d/Wands13.jpg" },
    { name: "ì™„ë“œ í‚¹", desc: "ì¹´ë¦¬ìŠ¤ë§ˆ ìˆëŠ” ë¦¬ë”ì™€ ì„±ì·¨.", img: "c/ce/Wands14.jpg" },

    // [Cups ìˆ˜íŠ¸] - 14ì¥
    { name: "ì»µ ì—ì´ìŠ¤", desc: "ìƒˆë¡œìš´ ê°ì •ê³¼ ì‚¬ë‘ì˜ ë¶„ì¶œ.", img: "3/36/Cups01.jpg" },
    { name: "ì»µ 2", desc: "ë‘ ë§ˆìŒì˜ ê²°í•©ê³¼ ì¡°í™”.", img: "f/f8/Cups02.jpg" },
    { name: "ì»µ 3", desc: "í•¨ê»˜ ì¦ê¸°ëŠ” ì¶•ì œì™€ ìš°ì •.", img: "7/7a/Cups03.jpg" },
    { name: "ì»µ 4", desc: "ì§€ë£¨í•¨ê³¼ ìƒˆë¡œìš´ ì œì•ˆì— ëŒ€í•œ ë¬´ê´€ì‹¬.", img: "3/35/Cups04.jpg" },
    { name: "ì»µ 5", desc: "ìƒì‹¤ì— ëŒ€í•œ ë¯¸ë ¨ê³¼ ë’¤ì— ë‚¨ì€ í¬ë§.", img: "d/d7/Cups05.jpg" },
    { name: "ì»µ 6", desc: "í–¥ìˆ˜ì™€ ìˆœìˆ˜í–ˆë˜ ì‹œì ˆë¡œì˜ íšŒê·€.", img: "1/17/Cups06.jpg" },
    { name: "ì»µ 7", desc: "í™”ë ¤í•œ í™˜ìƒê³¼ ì„ íƒì˜ ì–´ë ¤ì›€.", img: "a/ae/Cups07.jpg" },
    { name: "ì»µ 8", desc: "ì´ë¯¸ ìŒ“ì•„ë‘” ê²ƒì„ ë’¤ë¡œí•˜ê³  ë– ë‚˜ëŠ” ìš©ê¸°.", img: "6/60/Cups08.jpg" },
    { name: "ì»µ 9", desc: "ê°ì •ì  í’ìš”ì™€ ì†Œì› ì„±ì·¨.", img: "2/24/Cups09.jpg" },
    { name: "ì»µ 10", desc: "ì™„ì„±ëœ í–‰ë³µê³¼ ê°€ì •ì˜ í™”ëª©.", img: "d/d4/Cups10.jpg" },
    { name: "ì»µ ì‹œì¢…", desc: "í˜¸ì˜ì ì¸ ì†Œì‹ê³¼ ì˜ˆë¯¼í•œ ê°ìˆ˜ì„±.", img: "a/ad/Cups11.jpg" },
    { name: "ì»µ ê¸°ì‚¬", desc: "ë‚­ë§Œì ì¸ ì œì•ˆê³¼ í‰í™”ì˜ ë©”ì‹ ì €.", img: "f/fa/Cups12.jpg" },
    { name: "ì»µ í€¸", desc: "ì§ê´€ì ì´ê³  ìì• ë¡œìš´ ê³µê° ëŠ¥ë ¥.", img: "6/62/Cups13.jpg" },
    { name: "ì»µ í‚¹", desc: "ê°ì •ì„ ë‹¤ìŠ¤ë¦´ ì¤„ ì•„ëŠ” ì„±ìˆ™í•¨.", img: "0/04/Cups14.jpg" },

    // [Swords ìˆ˜íŠ¸] - 14ì¥
    { name: "ì†Œë“œ ì—ì´ìŠ¤", desc: "ì§€ì ì¸ ìŠ¹ë¦¬ì™€ ìƒˆë¡œìš´ ê²°ë‹¨ë ¥.", img: "1/1a/Swords01.jpg" },
    { name: "ì†Œë“œ 2", desc: "ì„ íƒì˜ ê³¤ë€ê³¼ íŒ½íŒ½í•œ ê· í˜•.", img: "9/9e/Swords02.jpg" },
    { name: "ì†Œë“œ 3", desc: "í”¼í•  ìˆ˜ ì—†ëŠ” ìŠ¬í””ê³¼ ìƒì²˜ì˜ ì •í™”.", img: "0/02/Swords03.jpg" },
    { name: "ì†Œë“œ 4", desc: "íšŒë³µì„ ìœ„í•œ ëª…ìƒê³¼ ê°•ì œì  íœ´ì‹.", img: "b/bf/Swords04.jpg" },
    { name: "ì†Œë“œ 5", desc: "ì˜ë¯¸ ì—†ëŠ” ìŠ¹ë¦¬ì™€ ìƒì²˜ë¿ì¸ ì˜ê´‘.", img: "2/23/Swords05.jpg" },
    { name: "ì†Œë“œ 6", desc: "ì•ˆì •ì ì¸ ê³³ìœ¼ë¡œì˜ ì´ë™ê³¼ íšŒë³µ.", img: "2/29/Swords06.jpg" },
    { name: "ì†Œë“œ 7", desc: "ì€ë°€í•œ ê³„íšì´ë‚˜ ì „ëµì ì¸ ë„ì£¼.", img: "3/34/Swords07.jpg" },
    { name: "ì†Œë“œ 8", desc: "ìŠ¤ìŠ¤ë¡œ ê°‡íŒ ê³ ì •ê´€ë…ê³¼ ì§„í‡´ì–‘ë‚œ.", img: "a/a7/Swords08.jpg" },
    { name: "ì†Œë“œ 9", desc: "ê·¹ì‹¬í•œ ìŠ¤íŠ¸ë ˆìŠ¤ì™€ ë¶ˆë©´ì¦.", img: "2/2f/Swords09.jpg" },
    { name: "ì†Œë“œ 10", desc: "ìµœì•…ì˜ ìƒí™© ëì— ì˜¤ëŠ” ìƒˆë¡œìš´ í¬ë§.", img: "d/d4/Swords10.jpg" },
    { name: "ì†Œë“œ ì‹œì¢…", desc: "ì˜ˆë¦¬í•œ í†µì°°ë ¥ê³¼ ê²½ê³„ì‹¬.", img: "4/4b/Swords11.jpg" },
    { name: "ì†Œë“œ ê¸°ì‚¬", desc: "ê±°ì¹¨ì—†ëŠ” ëŒíŒŒë ¥ê³¼ ì„±ê¸‰í•œ ì¶”ì§„.", img: "d/d4/Swords12.jpg" },
    { name: "ì†Œë“œ í€¸", desc: "ëƒ‰ì² í•œ íŒë‹¨ë ¥ê³¼ ë…ë¦½ì ì¸ ì •ì‹ .", img: "d/d2/Swords13.jpg" },
    { name: "ì†Œë“œ í‚¹", desc: "ì´ì„±ì ì´ê³  ì—„ê²©í•œ ë¦¬ë”ì‹­.", img: "3/33/Swords14.jpg" },

    // [Pentacles ìˆ˜íŠ¸] - 14ì¥
    { name: "íœíƒ€í´ ì—ì´ìŠ¤", desc: "ë¬¼ì§ˆì  í’ìš”ì™€ í˜„ì‹¤ì ì¸ ê¸°íšŒ.", img: "f/fd/Penta01.jpg" },
    { name: "íœíƒ€í´ 2", desc: "ë‘ ê°€ì§€ ìƒí™© ì‚¬ì´ì˜ ìœ ì—°í•œ ì¡°ì ˆ.", img: "9/9f/Penta02.jpg" },
    { name: "íœíƒ€í´ 3", desc: "í˜‘ë ¥ê³¼ ì „ë¬¸ì ì¸ ê¸°ìˆ  ì¸ì •.", img: "4/42/Penta03.jpg" },
    { name: "íœíƒ€í´ 4", desc: "ì†Œìœ ìš•ê³¼ í˜„ì¬ ìƒíƒœì˜ ê³ ìˆ˜.", img: "3/35/Penta04.jpg" },
    { name: "íœíƒ€í´ 5", desc: "ì¼ì‹œì ì¸ ê²½ì œì  ì–´ë ¤ì›€ê³¼ ë™ë£Œì• .", img: "9/96/Penta05.jpg" },
    { name: "íœíƒ€í´ 6", desc: "ìë¹„ë¡œìš´ ë‚˜ëˆ”ê³¼ ì ì ˆí•œ ë³´ìƒ.", img: "a/a6/Penta06.jpg" },
    { name: "íœíƒ€í´ 7", desc: "ë…¸ë ¥ì˜ ê²°ê³¼ë¬¼ì„ ì§€ì¼œë³´ë©° ê³ ë¯¼í•¨.", img: "6/6a/Penta07.jpg" },
    { name: "íœíƒ€í´ 8", desc: "ì„±ì‹¤í•œ ë…¸ë ¥ê³¼ ì¥ì¸ ì •ì‹ .", img: "4/49/Penta08.jpg" },
    { name: "íœíƒ€í´ 9", desc: "ë¬¼ì§ˆì  ì„±ê³µê³¼ ìš°ì•„í•œ í™€ë¡œì„œê¸°.", img: "f/f0/Penta09.jpg" },
    { name: "íœíƒ€í´ 10", desc: "ê°€ë¬¸ì˜ ë²ˆì°½ê³¼ í’ìš”ë¡œìš´ ìœ ì‚°.", img: "4/42/Penta10.jpg" },
    { name: "íœíƒ€í´ ì‹œì¢…", desc: "í˜„ì‹¤ì ì¸ ë°°ì›€ê³¼ ê¸°íšŒì˜ í¬ì°©.", img: "e/ec/Penta11.jpg" },
    { name: "íœíƒ€í´ ê¸°ì‚¬", desc: "ì‹ ì¤‘í•˜ê³  ë¯¿ìŒì§í•œ íƒœë„.", img: "d/d5/Penta12.jpg" },
    { name: "íœíƒ€í´ í€¸", desc: "í’ì¡±í•˜ê³  ì‹¤ìš©ì ì¸ ì•ˆëª©.", img: "8/88/Penta13.jpg" },
    { name: "íœíƒ€í´ í‚¹", desc: "í˜„ì‹¤ì ì¸ ì„±ê³µê³¼ í’ìš”ì˜ ì •ì .", img: "1/1c/Penta14.jpg" }
];
function startTarot(count) {
            document.getElementById('mode-selection').style.display = 'none';
            document.getElementById('input-area').style.display = 'none';
            document.getElementById('tarot-stage').style.display = 'block';
            
            const container = document.getElementById('cards-container');
            container.innerHTML = '';
            const labels = count === 3 ? ["ê³¼ê±°", "í˜„ì¬", "ë¯¸ë˜"] : ["ì‹ íƒ"];

            for(let i=0; i<count; i++) {
                container.innerHTML += `
                    <div class="card-wrapper">
                        <div class="label">${labels[i]}</div>
                        <div class="card-display">
                            <div class="card-inner" onclick="flipCard(this, ${i})">
                                <div class="card-face card-front">âœ¦</div>
                                <div class="card-face card-back" id="back-${i}"></div>
                            </div>
                        </div>
                    </div>`;
            }
        }

        async function flipCard(el, idx) {
            if (el.classList.contains('is-flipped')) return;

            document.getElementById('bgm').play().catch(() => {});
            document.getElementById('sfx-flip').currentTime = 0;
            document.getElementById('sfx-flip').play();

            const card = tarotData[Math.floor(Math.random() * tarotData.length)];
            const isReverse = Math.random() > 0.5;
            const question = document.getElementById('user-question').value;

            // ì¹´ë“œ ë’¤ì§‘ê¸°
            const back = document.getElementById(`back-${idx}`);
            back.innerHTML = `<img src="${imgBase}${card.img}" style="${isReverse ? 'transform:rotate(180deg)' : ''}">`;
            el.classList.add('is-flipped');

            // AI í•´ì„ ë¡œë”© í‘œì‹œ
            const resName = document.getElementById('res-name');
            const resDesc = document.getElementById('res-desc');
            resName.innerText = "ğŸ”® AIê°€ ì‹ íƒì„ ì½ëŠ” ì¤‘...";
            resDesc.innerText = "ìš°ì£¼ì˜ íë¦„ì„ ë¶„ì„í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.";

            try {
                // Vercel ì„œë²„ í•¨ìˆ˜ í˜¸ì¶œ
                const response = await fetch('/api/read', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        question: question || "ì˜¤ëŠ˜ì˜ ìš´ì„¸",
                        cardName: card.name,
                        isReverse: isReverse
                    })
                });

                const data = await response.json();
                
                resName.innerText = card.name + (isReverse ? " (ì—­ë°©í–¥)" : " (ì •ë°©í–¥)");
                resDesc.innerText = data.text; // AIê°€ ë³´ë‚´ì¤€ í•´ì„ ì¶œë ¥
            } catch (error) {
                console.error(error);
                resDesc.innerText = "í†µì‹ ì´ ì›í™œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.";
            }
        }
    </script>
</body>
</html>
