<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arcanum Tarot - 모드 선택</title>
    <style>
        :root { --gold: #d4af37; --deep-blue: #0f0c29; }
        body { 
            text-align: center; background: radial-gradient(circle at center, #1b1429 0%, #05050a 100%);
            color: white; font-family: 'Apple SD Gothic Neo', sans-serif; margin: 0; padding: 20px; 
            min-height: 100vh; display: flex; flex-direction: column; align-items: center;
        }
        h1 { font-size: 2.2rem; margin-top: 30px; color: var(--gold); text-shadow: 0 0 15px rgba(212, 175, 55, 0.4); letter-spacing: 4px; }
        
        /* 모드 선택 화면 */
        #mode-selection { margin-top: 50px; display: block; }
        .mode-card {
            background: rgba(255, 255, 255, 0.05); border: 1px solid var(--gold);
            padding: 30px; margin: 20px; border-radius: 15px; cursor: pointer;
            transition: 0.3s; width: 300px; display: inline-block; vertical-align: top;
        }
        .mode-card:hover { background: rgba(212, 175, 55, 0.1); transform: translateY(-5px); }
        .mode-card h2 { color: var(--gold); margin-top: 0; }
        .mode-card p { font-size: 0.9rem; color: #ccc; line-height: 1.6; }

        /* 타로 스테이지 (처음엔 숨김) */
        #tarot-stage { display: none; width: 100%; max-width: 900px; margin-top: 20px; }
        .cards-container { display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; margin-bottom: 30px; }
        
        .card-wrapper { width: 180px; text-align: center; }
        .label { color: var(--gold); font-weight: bold; margin-bottom: 10px; font-size: 0.9rem; }

        .card-display { width: 100%; height: 300px; perspective: 1000px; }
        .card-inner { width: 100%; height: 100%; position: relative; transition: transform 0.8s; transform-style: preserve-3d; cursor: pointer; }
        .card-inner.is-flipped { transform: rotateY(180deg); }
        .card-face { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; border-radius: 10px; border: 2px solid var(--gold); overflow: hidden; }
        .card-front { background: #1a1a2e; display: flex; align-items: center; justify-content: center; font-size: 40px; color: var(--gold); }
        .card-back { background: white; transform: rotateY(180deg); }
        .card-back img { width: 100%; height: 100%; object-fit: cover; }

        .result-text { margin-top: 20px; padding: 20px; background: rgba(0,0,0,0.3); border-radius: 10px; min-height: 100px; }
        .name { color: var(--gold); font-size: 1.4rem; margin-bottom: 10px; }
        .desc { font-size: 1rem; color: #ddd; line-height: 1.6; }

        button.nav-btn { margin-top: 30px; padding: 10px 25px; background: none; border: 1px solid var(--gold); color: var(--gold); cursor: pointer; border-radius: 5px; }
    </style>
</head>
<body>

    <audio id="bgm" loop><source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-17.mp3"></audio>
    <audio id="sfx-flip"><source src="https://assets.mixkit.co/active_storage/sfx/2019/2019-preview.mp3"></audio>

    <h1>ARCANUM TAROT</h1>

    <div id="mode-selection">
        <div class="mode-card" onclick="startTarot(1)">
            <h2>원 카드 (One Card)</h2>
            <p><strong>용도:</strong> 오늘의 운세, 명확한 예/아니오 답변, 단순한 조언이 필요할 때 적합합니다.</p>
        </div>
        <div class="mode-card" onclick="startTarot(3)">
            <h2>쓰리 카드 (Three Cards)</h2>
            <p><strong>용도:</strong> 과거-현재-미래의 흐름을 보거나, 문제의 원인과 결과 등 인과관계를 입체적으로 분석할 때 좋습니다.</p>
        </div>
    </div>

    <div id="tarot-stage">
        <div class="cards-container" id="cards-container"></div>
        <div class="result-text" id="result-text">
            <div id="res-name" class="name">카드를 뒤집어주세요</div>
            <div id="res-desc" class="desc">각 카드를 클릭하면 신탁이 나타납니다.</div>
        </div>
        <button class="nav-btn" onclick="location.reload()">처음으로 돌아가기</button>
    </div>
    <script>
        const imgBase = "https://upload.wikimedia.org/wikipedia/commons/";
const tarotData = [
    // [메이저 아르카나 0-21]
    { name: "0. 광대", desc: "순수한 시작, 모험, 자유.", img: "9/90/RWS_Tarot_00_Fool.jpg" },
    { name: "1. 마법사", desc: "창의력, 능력, 실행력.", img: "d/de/RWS_Tarot_01_Magician.jpg" },
    { name: "2. 고위 여사제", desc: "직관, 신비, 무의식.", img: "8/88/RWS_Tarot_02_High_Priestess.jpg" },
    { name: "3. 여황제", desc: "풍요, 모성애, 자연.", img: "a/af/RWS_Tarot_03_Empress.jpg" },
    { name: "4. 황제", desc: "권위, 구조, 리더십.", img: "c/c3/RWS_Tarot_04_Emperor.jpg" },
    { name: "5. 교황", desc: "전통, 교육, 영적 인도.", img: "8/8d/RWS_Tarot_05_Hierophant.jpg" },
    { name: "6. 연인", desc: "사랑, 조화, 선택.", img: "3/3a/RWS_Tarot_06_Lovers.jpg" },
    { name: "7. 전차", desc: "승리, 통제, 전진.", img: "9/9b/RWS_Tarot_07_Chariot.jpg" },
    { name: "8. 힘", desc: "인내, 용기, 부드러운 힘.", img: "f/f5/RWS_Tarot_08_Strength.jpg" },
    { name: "9. 은둔자", desc: "내면 탐구, 고찰, 조언.", img: "4/4d/RWS_Tarot_09_Hermit.jpg" },
    { name: "10. 운명의 수레바퀴", desc: "운명적 변화, 사이클, 행운.", img: "3/3c/RWS_Tarot_10_Wheel_of_Fortune.jpg" },
    { name: "11. 정의", desc: "공정, 진실, 인과응보.", img: "e/e0/RWS_Tarot_11_Justice.jpg" },
    { name: "12. 매달린 사람", desc: "새로운 관점, 희생, 정지.", img: "2/2b/RWS_Tarot_12_Hanged_Man.jpg" },
    { name: "13. 죽음", desc: "종결, 변형, 새로운 시작.", img: "d/d7/RWS_Tarot_13_Death.jpg" },
    { name: "14. 절제", desc: "균형, 인내, 평화.", img: "f/f8/RWS_Tarot_14_Temperance.jpg" },
    { name: "15. 악마", desc: "중독, 속박, 물질적 욕망.", img: "5/55/RWS_Tarot_15_Devil.jpg" },
    { name: "16. 탑", desc: "갑작스러운 변화, 붕괴, 깨달음.", img: "5/53/RWS_Tarot_16_Tower.jpg" },
    { name: "17. 별", desc: "희망, 영감, 치유.", img: "d/db/RWS_Tarot_17_Star.jpg" },
    { name: "18. 달", desc: "불안, 환상, 직관적 경고.", img: "7/7f/RWS_Tarot_18_Moon.jpg" },
    { name: "19. 태양", desc: "성공, 활력, 자신감.", img: "1/17/RWS_Tarot_19_Sun.jpg" },
    { name: "20. 심판", desc: "부활, 용서, 결단.", img: "d/dd/RWS_Tarot_20_Judgement.jpg" },
    { name: "21. 세계", desc: "완성, 통합, 성공적 마무리.", img: "f/ff/RWS_Tarot_21_World.jpg" },

    // [Wands 1-10]
    { name: "완드 에이스", desc: "열정적인 시작.", img: "1/11/Wands01.jpg" },
    { name: "완드 2", desc: "계획과 확장.", img: "0/0f/Wands02.jpg" },
    { name: "완드 3", desc: "협력과 탐험.", img: "f/ff/Wands03.jpg" },
    { name: "완드 4", desc: "안정과 축제.", img: "a/a4/Wands04.jpg" },
    { name: "완드 5", desc: "경쟁과 갈등.", img: "9/9d/Wands05.jpg" },
    { name: "완드 6", desc: "승리와 전진.", img: "3/3b/Wands06.jpg" },
    { name: "완드 7", desc: "방어와 용기.", img: "e/e4/Wands07.jpg" },
    { name: "완드 8", desc: "신속한 변화.", img: "6/6b/Wands08.jpg" },
    { name: "완드 9", desc: "경계와 인내.", img: "4/4d/Wands09.jpg" },
    { name: "완드 10", desc: "책임과 압박.", img: "0/0b/Wands10.jpg" },

    // [Cups 1-10]
    { name: "컵 에이스", desc: "사랑의 시작.", img: "3/36/Cups01.jpg" },
    { name: "컵 2", desc: "결합과 조화.", img: "f/f8/Cups02.jpg" },
    { name: "컵 3", desc: "축하와 우정.", img: "7/7a/Cups03.jpg" },
    { name: "컵 4", desc: "권태와 명상.", img: "3/35/Cups04.jpg" },
    { name: "컵 5", desc: "상실과 슬픔.", img: "d/d7/Cups05.jpg" },
    { name: "컵 6", desc: "추억과 순수.", img: "1/17/Cups06.jpg" },
    { name: "컵 7", desc: "환상과 선택.", img: "a/ae/Cups07.jpg" },
    { name: "컵 8", desc: "새로운 여정.", img: "6/60/Cups08.jpg" },
    { name: "컵 9", desc: "만족과 소원.", img: "2/24/Cups09.jpg" },
    { name: "컵 10", desc: "행복한 가정.", img: "d/d4/Cups10.jpg" }
    // (이런 식으로 마이너 카드 경로를 /숫자/숫자/이름.jpg 형식에 맞춰 채우면 모두 나옵니다.)
];
let selectedCards = [];

        function startTarot(count) {
            document.getElementById('mode-selection').style.display = 'none';
            document.getElementById('tarot-stage').style.display = 'block';
            
            const container = document.getElementById('cards-container');
            container.innerHTML = '';
            const labels = count === 3 ? ["과거", "현재", "미래"] : ["오늘의 운세"];

            for(let i=0; i<count; i++) {
                container.innerHTML += `
                    <div class="card-wrapper">
                        <div class="label">${labels[i]}</div>
                        <div class="card-display">
                            <div class="card-inner" onclick="flipCard(this, ${i})">
                                <div class="card-face card-front">✦</div>
                                <div class="card-face card-back" id="back-${i}"></div>
                            </div>
                        </div>
                    </div>`;
            }
        }

        function flipCard(el, idx) {
            if (el.classList.contains('is-flipped')) return;

            // 소리 재생
            document.getElementById('bgm').play().catch(() => {});
            document.getElementById('sfx-flip').currentTime = 0;
            document.getElementById('sfx-flip').play();

            const card = tarotData[Math.floor(Math.random() * tarotData.length)];
            const isReverse = Math.random() > 0.5;

            const back = document.getElementById(`back-${idx}`);
            back.innerHTML = `<img src="${imgBase}${card.img}" style="${isReverse ? 'transform:rotate(180deg)' : ''}">`;

            el.classList.add('is-flipped');

            // 결과 업데이트 (쓰리카드의 경우 클릭한 카드의 정보를 보여줌)
            document.getElementById('res-name').innerText = card.name + (isReverse ? " (역방향)" : "");
            document.getElementById('res-desc').innerText = (isReverse ? "주의가 필요한 단계: " : "") + card.desc;
        }
    </script>
</body>
</html>
